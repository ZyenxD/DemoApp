(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{WLUK:function(t,e,n){"use strict";n.r(e);var i=n("CcnG"),r=n("Ip0R"),o=n("ZYCi"),c=n("6blF");function s(t,e){return new c.a(e?function(n){return e.schedule(u,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function u(t){t.subscriber.error(t.error)}var d,l=n("mrSG"),a=n("K9Ia"),p=n("pugT"),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return l.c(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},e}(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return l.c(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return l.c(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(p.a))),f=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),b=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.c(e,t),e}(function(t){function e(n,i){void 0===i&&(i=f.now);var r=t.call(this,n,function(){return e.delegate&&e.delegate!==r?e.delegate.now():i()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return l.c(e,t),e.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,r):t.prototype.schedule.call(this,n,i,r)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(f)))(h),g=n("FFOo"),v=n("G5J1"),m=n("F/XL");d||(d={});var y=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(m.a)(this.value);case"E":return s(this.error);case"C":return Object(v.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),w=function(t){function e(e,n,i){void 0===i&&(i=0);var r=t.call(this,e)||this;return r.scheduler=n,r.delay=i,r}return l.c(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new P(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(y.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(y.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(y.createComplete()),this.unsubscribe()},e}(g.a),P=function(){return function(t,e){this.notification=t,this.destination=e}}(),_=n("8g8A"),I=n("uMaO"),C=function(t){function e(e,n,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=e<1?1:e,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return l.c(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new O(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new _.a;if(this.isStopped||this.hasError?e=p.a.EMPTY:(this.observers.push(t),e=new I.a(this,t)),r&&t.add(t=new w(t,r)),n)for(var c=0;c<o&&!t.closed;c++)t.next(i[c]);else for(c=0;c<o&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||b).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i},e}(a.a),O=function(){return function(t,e){this.time=t,this.value=e}}(),M=n("9Z1F"),k=n("psW0"),x=n("P6uZ"),N=n("t/Na"),E=function(){function t(t){this.httpClient=t,this.baseUrl="http://storerestservice.azurewebsites.net/api/products/"}return t.prototype.getProducts=function(){return this.products$||(this.products$=this.httpClient.get(this.baseUrl).pipe((t={bufferSize:void 0,windowTime:void 0,refCount:!1,scheduler:void 0},function(e){return e.lift((c=void 0===(o=(n=t).bufferSize)?Number.POSITIVE_INFINITY:o,u=void 0===(s=n.windowTime)?Number.POSITIVE_INFINITY:s,d=n.refCount,l=n.scheduler,a=0,p=!1,h=!1,function(t){a++,i&&!p||(p=!1,i=new C(c,u,l),r=t.subscribe({next:function(t){i.next(t)},error:function(t){p=!0,i.error(t)},complete:function(){h=!0,i.complete()}}));var e=i.subscribe(this);this.add(function(){a--,e.unsubscribe(),r&&!h&&d&&0===a&&(r.unsubscribe(),r=void 0,i=void 0)})}));var n,i,r,o,c,s,u,d,l,a,p,h}),Object(M.a)(this.handleError))),this.products$;var t},t.prototype.getProductById=function(t){return this.getProducts().pipe(Object(k.a)(function(t){return t}),Object(x.a)(function(e){return e.id===t}),Object(M.a)(this.handleError))},t.prototype.clearCache=function(){this.products$=null},t.prototype.handleError=function(t){var e;return e=t.error instanceof Error?"An error occurred:"+t.error.message:"Backend returned code "+t.status+", body was: "+t.error,console.error(e),s(e)},t.ngInjectableDef=i.Cb({token:t,factory:function(e){return new(e||t)(i.Vb(N.a))},providedIn:"root"}),t}(),S=["loading",""],T=["class","products",4,"ngIf","ngIfElse"],K=[3,"disabled","click"];function Q(t,e){1&t&&(i.Qb(0,"h2"),i.oc(1," LOADING PRODUCTS.... "),i.Kb())}var D=[1,"products"],A=[3,"discontinued","selected","click",4,"ngFor","ngForOf"],z=[3,"click"],Y=[1,"name"],F=[1,"description"],G=[1,"price"],j=["discontinued","selected"];function X(t,e){if(1&t){var n=i.Tb();i.Qb(0,"li",z),i.Rb(j),i.Yb("click",function(t){i.ic(n);var r=e.$implicit;return i.ac(2).onSelect(r)}),i.Qb(1,"span",Y),i.oc(2),i.bc(3,"uppercase"),i.Kb(),i.Qb(4,"span",F),i.oc(5),i.Kb(),i.Qb(6,"span",G),i.oc(7),i.bc(8,"currency"),i.Kb(),i.Kb()}if(2&t){var r=e.$implicit,o=i.ac(2);i.Jb(0,0,r.discontinued),i.Jb(0,1,r.name==(null==o.selectedProduct?null:o.selectedProduct.name)),i.Sb(0),i.kc(2),i.pc(2,i.Xb("",i.cc(3,3,r.name),"")),i.kc(5),i.pc(5,i.Xb("",r.description,"")),i.kc(7),i.pc(7,i.Xb("",i.ec(8,5,r.price,"DOP","symbol-narrow",".2"),""))}}function V(t,e){if(1&t&&(i.Qb(0,"ul",D),i.mc(1,X,9,10,"li",A),i.bc(2,"slice"),i.Kb()),2&t){var n=e.ngIf,r=i.ac();i.kc(1),i.fc("ngForOf",i.dc(2,1,n,r.start,r.end))}}var W=function(){function t(t,e){this.productService=t,this.router=e,this.title="products",this.pageSize=5,this.start=0,this.end=this.pageSize,this.currentPage=1}return t.prototype.ngOnInit=function(){this.products$=this.productService.getProducts()},t.prototype.onSelect=function(t){this.selectedProduct=t,this.router.navigateByUrl("/products/"+t.id)},t.prototype.nextPage=function(){this.start+=this.pageSize,this.end+=this.pageSize,this.selectedProduct=null,this.currentPage++},t.prototype.prevPage=function(){this.start-=this.pageSize,this.end-=this.pageSize,this.selectedProduct=null,this.currentPage--},t.ngComponentDef=i.Ab({type:t,selectors:[["app-product-list"]],factory:function(e){return new(e||t)(i.Gb(E),i.Gb(o.b))},consts:14,vars:10,template:function(t,e){if(1&t&&(i.Qb(0,"h2"),i.oc(1),i.Kb(),i.mc(2,Q,2,0,"ng-template",null,S,i.nc),i.mc(4,V,3,5,"ul",T),i.bc(5,"async"),i.Qb(6,"div"),i.Qb(7,"button",K),i.Yb("click",function(t){return e.prevPage()}),i.oc(8,"Previos Page"),i.Kb(),i.oc(9),i.Qb(10,"button",K),i.Yb("click",function(t){return e.nextPage()}),i.bc(11,"async"),i.oc(12,"Next Page"),i.Kb(),i.Hb(13,"div"),i.Kb()),2&t){var n,r=i.hc(3),o=(null==(n=i.cc(11,8,e.products$))?null:n.length)<=e.end;i.kc(1),i.pc(1,i.Xb(" ",e.title,"\n")),i.kc(4),i.fc("ngIf",i.cc(5,6,e.products$)),i.fc("ngIfElse",r),i.kc(7),i.fc("disabled",0==e.start),i.kc(9),i.pc(9,i.Xb(" Page ",e.start/e.pageSize+1," ")),i.kc(10),i.fc("disabled",o)}},directives:[r.l,r.k],pipes:[r.b,r.o,r.p,r.d],styles:[".products[_ngcontent-%COMP%]{margin:0;list-style-type:none;padding:0}.products[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.products[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ff0;left:.1em}.products[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .name[_ngcontent-%COMP%], .products[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#607d8b;background-color:#ffd800;left:.1em}.products[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#0094ff;color:#fff}.products[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{color:#fff}.products[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .products[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{background-color:#0026ff;color:#fff}.products[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.products[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px;width:30%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.products[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{float:right;width:15%;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-left:.8em;border-radius:0 4px 4px 0}.products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{height:1.8em;display:inline-block;width:40%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.products[_ngcontent-%COMP%]   .discontinued[_ngcontent-%COMP%], .products[_ngcontent-%COMP%]   .discontinued[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:red!important}"]}),t}(),$=n("gIcY"),U=["noproduct",""],B=[4,"ngIf","ngIfElse"];function J(t,e){1&t&&(i.Qb(0,"h2"),i.oc(1,"NO PRODUCT TO DISPLAY"),i.Kb())}var q=["style","float:right","width","250",3,"src",4,"ngIf"],L=["type","number",3,"ngModel","disabled","ngModelChange"],R=["type","checkbox",3,"ngModel","ngModelChange"],Z=["width","250",2,"float","right",3,"src"];function H(t,e){if(1&t&&i.Hb(0,"img",Z),2&t){var n=i.ac(2);i.kc(0),i.fc("src",n.product.imageUrl,i.jc)}}function tt(t,e){if(1&t){var n=i.Tb();i.Qb(0,"div"),i.Qb(1,"h2"),i.oc(2),i.bc(3,"uppercase"),i.Kb(),i.mc(4,H,1,1,"img",q),i.Qb(5,"h3"),i.oc(6),i.Kb(),i.Qb(7,"p"),i.oc(8),i.bc(9,"currency"),i.Kb(),i.Qb(10,"p"),i.oc(11," Edit Price: "),i.Qb(12,"input",L),i.Yb("ngModelChange",function(t){return i.ic(n),i.ac().product.price=t}),i.Kb(),i.Kb(),i.Qb(13,"p"),i.oc(14,"Fixed price? "),i.Qb(15,"input",R),i.Yb("ngModelChange",function(t){return i.ic(n),i.ac().product.fixedPrice=t}),i.Kb(),i.Kb(),i.Qb(16,"p"),i.oc(17,"Discontinued? "),i.Qb(18,"input",R),i.Yb("ngModelChange",function(t){return i.ic(n),i.ac().product.discontinued=t}),i.Kb(),i.Kb(),i.Qb(19,"p"),i.oc(20),i.bc(21,"date"),i.Kb(),i.Kb()}if(2&t){var r=i.ac();i.kc(2),i.pc(2,i.Xb("",i.cc(3,9,r.product.name),"")),i.kc(4),i.fc("ngIf",r.product.imageUrl),i.kc(6),i.pc(6,i.Xb("",r.product.description,"")),i.kc(8),i.pc(8,i.Xb("Price: ",i.ec(9,11,r.product.price,"CAD","symbol-narrow",".2"),"")),i.kc(12),i.fc("ngModel",r.product.price),i.fc("disabled",r.product.fixedPrice),i.kc(15),i.fc("ngModel",r.product.fixedPrice),i.kc(18),i.fc("ngModel",r.product.discontinued),i.kc(20),i.pc(20,i.Xb("Modified date: ",i.cc(21,16,r.product.modifiedDate),""))}}var et=[{path:"",component:W},{path:":id",component:function(){function t(t,e){this.route=t,this.productService=e}return t.prototype.ngOnInit=function(){var t=this,e=+this.route.snapshot.params.id;e&&this.productService.getProductById(e).subscribe(function(e){return t.product=e})},t.ngComponentDef=i.Ab({type:t,selectors:[["app-product-detail"]],factory:function(e){return new(e||t)(i.Gb(o.a),i.Gb(E))},consts:3,vars:2,template:function(t,e){if(1&t&&(i.mc(0,J,2,0,"ng-template",null,U,i.nc),i.mc(2,tt,22,18,"div",B)),2&t){var n=i.hc(1);i.kc(2),i.fc("ngIf",e.product),i.fc("ngIfElse",n)}},directives:[r.l,$.f,$.b,$.d,$.e,$.a],pipes:[r.p,r.d,r.f],styles:[""]}),t}()}],nt=function(){function t(){}return t.ngModuleDef=i.Eb({type:t}),t.ngInjectorDef=i.Db({factory:function(e){return new(e||t)},imports:[[o.e.forChild(et)],o.e]}),t}();o.e.forChild(et),n.d(e,"ProductsModule",function(){return it});var it=function(){function t(){}return t.ngModuleDef=i.Eb({type:t}),t.ngInjectorDef=i.Db({factory:function(e){return new(e||t)},imports:[[r.c,$.c,nt]]}),t}()}}]);